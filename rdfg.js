// Código JavaScript completo del slideshow
!function(a){a.fn.BloggerDynamicSlider=function(b){var c=a.extend({blogURL:"",labelName:"",maxItem:6,showPostTitle:!0,postTitleStyle:"default",imageWidth:800,imageHeight:500,animation:"fade",controlNav:!0,directionNav:!0,pauseOnHover:!1,slideshowSpeed:5e3,animationSpeed:600,animationLoop:!0},b);return this.each(function(){var b=a(this),d=b.attr("id"),e=c.blogURL+"/feeds/posts/summary/"+(0==c.labelName.length?"":"-/"+c.labelName.replace(/\,(\s+)?/g,"/"))+"?max-results="+c.maxItem+"&orderby=published&alt=json-in-script";a.ajax({type:"GET",url:e,async:!1,contentType:"application/json",dataType:"jsonp",success:function(a){var f,g,h,i,j,k,l,m,n,o,p,q,e=a.feed.entry||[];for(f="",f+='<div class="flexslider loading">',f+='<ul class="slides">',g=0;g<e.length;++g){for(i=e[g],j=i.title.$t,k=i.media$thumbnail?i.media$thumbnail.url:"https://via.placeholder.com/800x500?text=Blogger+Slider",l=k.replace(/\/s\d+-c\//,"/w"+c.imageWidth+"-h"+c.imageHeight+"-c/"),m=i.link||[],h=0;h<m.length&&"alternate"!=m[h].rel;++h);n=m[h].href,o='<img src="'+l+'" alt="'+j.replace(/"/g,'"')+'"/>',p=c.showPostTitle?'<p class="flex-caption'+("default"==c.postTitleStyle?" "+c.postTitleStyle:"")+'"><span>'+j+"</span></p>":"",q='<a href="'+n+'" target="_blank">'+o+p+"</a>",f+="<li>"+q+"</li>"}f+="</ul></div>",f+='<style type="text/css">#'+d+" .flexslider.loading {min-height:"+Math.min(c.imageHeight,500)+"px !important;}</style>",b.append(f)},error:function(a,c,d){b.append('<div class="error"><p>No se pudo cargar el contenido. Intente recargar la página.</p></div>')},complete:function(){a("#"+d+" .flexslider").flexslider({animation:c.animation,controlNav:c.controlNav,directionNav:c.directionNav,pauseOnHover:c.pauseOnHover,slideshowSpeed:c.slideshowSpeed,animationSpeed:c.animationSpeed,animationLoop:c.animationLoop});var b=a("#"+d+" .flexslider ul.slides li a img"),e=0;b.on("load",function(){if(e++,e==b.length-1){var c=a("#"+d+" .flexslider").data("flexslider");c.animating=!1,c.flexAnimate(0),a("#"+d+" .flexslider").removeClass("loading")}})}})})}}(jQuery);
